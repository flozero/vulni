<template>
    <SidebarProvider>
      <Sidebar>
        <SidebarHeader>
          <SidebarGroup class="py-0">
            <SidebarGroupContent class="relative">
              <div class="flex gap-4 py-2 items-center text-lg font-semibold tracking-tighter"><RocketIcon />Vulni</div>
            </SidebarGroupContent>
          </SidebarGroup>
        </SidebarHeader>
        <SidebarContent>
          <SidebarGroup v-for="item in data.navMain" :key="item.title">
            <SidebarGroupLabel>{{ item.title }}</SidebarGroupLabel>
            <SidebarGroupContent>
              <SidebarMenu>
                <SidebarMenuItem v-for="subItem in item.items" :key="subItem.title">
                  <SidebarMenuButton as-child>
                    <div class="flex">
                      <component :is="subItem.icon" />
                      <a :href="subItem.url">{{ subItem.title }}</a>
                    </div>
                  </SidebarMenuButton>
                </SidebarMenuItem>
              </SidebarMenu>
            </SidebarGroupContent>
          </SidebarGroup>
        </SidebarContent>
        <SidebarRail />
      </Sidebar>
      <SidebarInset>
        <header class="flex h-16 shrink-0 items-center gap-2 transition-[width,height] ease-linear group-has-[[data-collapsible=icon]]/sidebar-wrapper:h-12 border-b">
          <div class="flex items-center gap-2 px-4">
            <Breadcrumb>
              <BreadcrumbList>
                <BreadcrumbItem>
                  <BreadcrumbLink href="/list">
                    PACKAGE.JSON
                  </BreadcrumbLink>
                </BreadcrumbItem>
              </BreadcrumbList>
            </Breadcrumb>
          </div>
        </header>
        <main class="p-4">
            <slot />
        </main>
      </SidebarInset>
    </SidebarProvider>
  </template>
  
  <script setup lang=ts>
  import {
    Sidebar,
    SidebarContent,
    SidebarGroup,
    SidebarInset,
    SidebarMenu,
    SidebarMenuButton,
    SidebarMenuItem,
    SidebarProvider,
    SidebarRail,
    SidebarHeader
  } from '@/domains/shared/components/ui/sidebar'
  import {
    Breadcrumb,
    BreadcrumbItem,
    BreadcrumbLink,
    BreadcrumbList,
  } from "@/domains/shared/components/ui/breadcrumb"
  import {
    File,
    RocketIcon
  } from 'lucide-vue-next'
import Separator from '@/domains/shared/components/ui/separator/Separator.vue';

  const data = {
    navMain: [
      {
        title: 'Files',
        items: [
          {
            icon: File,
            title: "/package.json", url: "#"
          }
        ]
      }
    ]
  }
  </script>
  